%% Dissertationsvorlage
%%
%% Karlsruhe Institute of Technology
%% Institute for Program Structures and Data Organization
%% Chair for Software Design and Quality (SDQ)
%%
%% Dr.-Ing. Erik Burger
%% burger@kit.edu
%%
%% Siehe https://sdq.kastel.kit.edu/wiki/Dokumentvorlagen

% Für Dokumentoptionen siehe README.md

\documentclass[format=a4-sdq]{sdqdiss}

%% --------------------------------
%% | Font and language setup      |
%% --------------------------------

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T2A,T1]{fontenc}  % use 8-bit T1 fonts, T2A Cyrillic fonts

% better looking fonts
\usepackage[tt=false, type1=true]{libertine}
\usepackage{libertinust1math}
% Improves general appearance of the text
\usepackage[protrusion=true,expansion=true,kerning]{microtype}

% set up for Japanese
\usepackage{CJKutf8}
\newcommand{\ja}[1]{\begin{CJK}{UTF8}{min}#1\end{CJK}}

% Für Sprachumschaltung
\usepackage[russian,ngerman,english]{babel}
\selectlanguage{english}

%% --------------------------------
%% | Misc setup                   |
%% --------------------------------

\usepackage{csquotes}

% Abstract
\newcommand{\Abstract}[1][Abstract]{\chapter*{#1}\addcontentsline{toc}{chapter}{#1}\markboth{#1}{#1}} 

%% Nur als Beispiel – im endgültigen Dokument bitte entfernen
\usepackage{blindtext}
% TikZ ist kein Zeichenprogramm
\usepackage{tikz}
% Schöne Tabellen
\usepackage{booktabs}
%% /Beispiel

%% --------------------------------
%% | Heading setup                |
%% --------------------------------

% Fancy chapter headings
\usepackage{quotchap}
% adjustment of header font
\makeatletter
\renewcommand*{\chapnumfont}{%
  \usefont{T1}{\@defaultcnfont}{n}{n}\fontsize{100}{130}\selectfont%
  \color{chaptergrey}%
}
\makeatother
% make headlines use serif font
\addtokomafont{disposition}{\rmfamily}

% % TODO: consider using appendix package (see msc)
% % enable appenix
% \usepackage[toc,page]{appendix}
% \noappendicestocpagenum

%% --------------------------------
%% | Bibliographie setup          |
%% --------------------------------

%% Biber statt BibTeX, siehe README.md
\usepackage[citestyle=numeric,style=numeric,backend=biber,defernumbers=true,maxnames=5]{biblatex}
\addbibresource{bib/dis.bib}
% %% Define custom sorting scheme: year (earliest first), then name, then title
% \DeclareSortingScheme{ynt}{
%   \sort[direction=ascending]{\field{year}}
%   \sort{\field{name}}
%   \sort{\field{title}}
%   \sort{\field{entrykey}}
% }
%% Define highlight based on bibtex annotation for own publications
\renewcommand*{\mkbibnamegiven}[1]{%
  \ifitemannotation{highlight}
    {\textbf{#1}}
    {#1}}

\renewcommand*{\mkbibnamefamily}[1]{%
  \ifitemannotation{highlight}
    {\textbf{#1}}
    {#1}}


%% --------------------------------
%% | Additional packages          |
%% --------------------------------

% - - - notes
% - packages NOT TO USE
%   - natbib (causes compile to fail)
% - - - /notes

\usepackage[hidelinks]{hyperref}

% - - - intro
\usepackage{fontawesome}
\usepackage[most]{tcolorbox}
\definecolor{pubgreen-box}{RGB}{112,214,167}
\definecolor{pubgreen-bg}{RGB}{247,247,244}
\definecolor{discussionpurp-box}{RGB}{181,145,180}
\definecolor{discussionpurp-bg}{RGB}{251,249,251}
\definecolor{infogrey-box}{RGB}{163,163,163}
\definecolor{infogrey-bg}{RGB}{250,250,250}
\definecolor{rqblue-box}{RGB}{103,188,223}
\definecolor{rqblue-bg}{RGB}{247,252,253}
\newtcolorbox{infobox-pub}{
    breakable,
    enhanced,
    arc=1pt,
    colback=pubgreen-bg,
    colframe=pubgreen-box,
    coltext=black,
    leftrule=36pt,
    overlay={%
     \begin{tcbclipframe}
      \node[anchor=center, xshift=19pt, yshift=-18pt, text=pubgreen-bg] at (frame.north west){\Large\faFileText};
     \end{tcbclipframe}
    }
}
\newtcolorbox{infobox-discussion}{
    breakable,
    enhanced,
    arc=1pt,
    colback=discussionpurp-bg,
    colframe=discussionpurp-box,
    coltext=black,
    leftrule=36pt,
    overlay={%
     \begin{tcbclipframe}
      \node[anchor=center, xshift=19pt, yshift=-18pt, text=discussionpurp-bg] at (frame.north west){\Large\faComments};
     \end{tcbclipframe}
    }
}
\newtcolorbox{infobox-info}{
    breakable,
    enhanced,
    arc=1pt,
    colback=infogrey-bg,
    colframe=infogrey-box,
    coltext=black,
    leftrule=36pt,
    overlay={%
     \begin{tcbclipframe}
      \node[anchor=center, xshift=19pt, yshift=-18pt, text=infogrey-bg] at (frame.north west){\Large\faInfoCircle};
     \end{tcbclipframe}
    }
}
\newtcolorbox{infobox-q}{
    breakable,
    enhanced,
    arc=1pt,
    colback=rqblue-bg,
    colframe=rqblue-box,
    coltext=black,
    leftrule=36pt,
    overlay={%
     \begin{tcbclipframe}
      \node[anchor=center, xshift=19pt, yshift=-18pt, text=rqblue-bg] at (frame.north west){\Large\faQuestionCircle};
     \end{tcbclipframe}
    }
}
%\faBookmark       -- contribution
%\faChain          -- link of some sort
%\faTag            -- note
%\faNavicon        -- general
%\faSignal         -- improvement
%\faGraduationCap  -- hypothesis?
%\faUniversity     -- sth of significance
%\faShield         -- protection
%\faGroup          -- sth w/ community?
%\faMap            -- sth w/ planning?
%\faPlus           -- mby contribution, but also looks medical
%\faThumbTack      -- slightly weird shape
% - - - /intro

% - - - corpus
\usepackage{amsmath,amssymb}
\usepackage{tabularx}
\usepackage{array}
\usepackage{threeparttable}
\usepackage{listings}
\lstset{
  basicstyle=\footnotesize\ttfamily,
  frame=single,
  breaklines=true,
  breakatwhitespace=true,
  postbreak=\space
}
\definecolor{UniBlue}{RGB}{0, 74, 153}
\definecolor{RandomRed}{RGB}{181, 93, 76}
% - - - /corpus

% - - - reference coverage and granularity (unarXive 2022)
\colorlet{listingpunct}{red!60!black}
\definecolor{listingbg}{HTML}{F7F7F7}
\definecolor{listingdelim}{RGB}{20,105,176}
\colorlet{listingcmnt}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{listingbg},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{listingcmnt}\ttfamily,
    literate=
     *{:}{{{\color{listingpunct}{:}}}}{1}
      {,}{{{\color{listingpunct}{,}}}}{1}
      {\{}{{{\color{listingdelim}{\{}}}}{1}
      {\}}{{{\color{listingdelim}{\}}}}}{1}
      {[}{{{\color{listingdelim}{[}}}}{1}
      {]}{{{\color{listingdelim}{]}}}}{1},
}
\usepackage{lscape}
% - - - /reference coverage and granularity (unarXive 2022)

% - - - references accross languages
\usepackage{multirow}  % colspan/rowspan
% - - - /references accross languages

% - - - references with usage parameters
\usepackage{subfig}
\usepackage{wrapfig}
\usepackage{colortbl}
\definecolor{artifactblue}{HTML}{0059A0}
\definecolor{parametergreen}{HTML}{539A55}
\definecolor{valuered}{HTML}{CF8369}
\definecolor{contextgrey}{HTML}{A0A0A0}
\definecolor{lightgrey}{HTML}{CFCFCF}
\definecolor{listingbg}{HTML}{F7F7F7}
\definecolor{listingdelim}{RGB}{20,105,176}
\colorlet{listingcmnt}{magenta!60!black}

\lstdefinelanguage{plain}{
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{listingbg},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{listingcmnt}\ttfamily,
    breakindent=0pt,
}
% - - - /references with usage parameters

%% --------------------------------
%% | Title page                   |
%% --------------------------------

\title{Data Mining and Information Extraction Methods for Large-Scale High Quality Representations of Scientific Publications}
\author{Tarek Saier}
\subject{}

\subtitle{
\vskip2em
zur Erlangung des akademischen Grades eines\\[1em]
Doktors der Ingenieurwissenschaften\\
(Dr.-Ing.)\\[1em]
von der Fakultät für Wirtschaftswissenschaften\\
des Karlsruher Instituts für Technologie (KIT)\\[1em]
vorgelegte\\
Dissertation\\[1.5em]
von
}

\author{{\LARGE M.\,Sc. Tarek Saier}}

\publishers{%
\flushleft\small
\begin{align*}
    &\text{Tag der mündlichen Prüfung:} &\text{XX. Monat XXXX}\\
    &\text{Referent:} &\text{Prof. Dr. N. N.}\\
    &\text{Korreferent:} &\text{Prof. Dr. M. M.}
\end{align*}
}

\date{}  % used to supress printing a date

%% --------------------------------
%% | Document start               |
%% --------------------------------

\begin{document}
\selectlanguage{ngerman}
\maketitle

%% --------------------------------
%% | Abstract                     |
%% --------------------------------

% Römische Seitenzahlen
\frontmatter

%% Englischer Abstract
\input{chapters/abstract}

%% Deutsche Zusammenfassung
\input{chapters/zusammenfassung}

%% Englischer Abstract
\input{chapters/acknowledgements}

%% --------------------------------
%% | ToC                          |
%% --------------------------------

% Sprache der Dissertation
\selectlanguage{english}

\tableofcontents

% Linksbündige Einträge ohne Einzug
\listoffigures
\listoftables

%% --------------------------------
%% | Content                      |
%% --------------------------------

% Arabische Seitenzahlen
\mainmatter

\input{chapters/introduction}
\input{chapters/foundations}
\input{chapters/corpus}
\input{chapters/reference_coverage_and_granularity}
\input{chapters/reference_accross_languages}
\input{chapters/reference_with_usage_parameters}
% \input{chapters/reference_of_joint_use}
\input{chapters/conclusion}

%% Add entry to the table of contents for the bibliography
%\begin{refcontext}[sorting=presorted]
\printbibliography[keyword=own,heading=bibintoc,title={Bibliography of Publications}]
%\end{refcontext}
\printbibliography[notkeyword=own,heading=bibintoc,title={Bibliography of References}]

%% --------------------------------
%% | Appendix                     |
%% --------------------------------
\appendix
\input{chapters/appendix}

\end{document}
